{"ast":null,"code":"import _regeneratorRuntime from \"/home/development/Downloads/Floey_Frontend-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/development/Downloads/Floey_Frontend-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/development/Downloads/Floey_Frontend-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/development/Downloads/Floey_Frontend-master/src/views/base/Permissions/Permissions.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { CButton, CCard, CCardBody, CCardHeader, CCol, CContainer, CJumbotron, CRow, CEmbed, CDropdown, CDropdownToggle, CDropdownDivider, CDropdownHeader, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle, CDropdownItem, CDropdownMenu, CEmbedItem, CFormGroup, CFormText, CInputCheckbox, CLabel } from '@coreui/react';\nimport { DocsLink } from 'src/reusable';\nimport BASE_URL from 'src/views/base';\nimport Cookies from 'universal-cookie';\nimport PermissionsList from \"./PermissionsList\";\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar cookies = new Cookies(); //  debugger\n\nconsole.log(PermissionsList);\n\nvar Expenses = function Expenses() {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modal = _useState2[0],\n      setModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      large = _useState4[0],\n      setLarge = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      small = _useState6[0],\n      setSmall = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      primary = _useState8[0],\n      setPrimary = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      success = _useState10[0],\n      setSuccess = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      warning = _useState12[0],\n      setWarning = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      danger = _useState14[0],\n      setDanger = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      info = _useState16[0],\n      setInfo = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      getpermission = _useState18[0],\n      setpermissions = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      getuser = _useState20[0],\n      setuser = _useState20[1];\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      getroles = _useState22[0],\n      setroles = _useState22[1];\n\n  var axios = require('axios');\n\n  useEffect(function () {\n    axios.get(BASE_URL + 'user/roles/permissions/?gym=' + cookies.get('gym_uuid')).then(function (res) {\n      console.log(res.data);\n      setroles(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  useEffect(function () {\n    axios.get(BASE_URL + 'gymprofile/gymroles/?gym=' + cookies.get('gym_uuid')).then(function (res) {\n      console.log(res.data);\n      setpermissions(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      userdetail = _useState24[0],\n      setuserdetail = _useState24[1];\n\n  var _useState25 = useState([]),\n      _useState26 = _slicedToArray(_useState25, 2),\n      permisions = _useState26[0],\n      setupdatepermissions = _useState26[1];\n\n  function Clicker(uuid) {\n    // alert(uuid);\n    setSuccess(!success); //  debugger\n\n    axios.get(BASE_URL + 'user/roles/permissions/' + uuid).then(function (getuuid) {\n      console.log(getuuid.data.permissions_list);\n      setuserdetail(getuuid.data);\n      setupdatepermissions(getuuid.data.permissions_list);\n    });\n  }\n\n  function AddNewPermission() {\n    return _AddNewPermission.apply(this, arguments);\n  }\n\n  function _AddNewPermission() {\n    _AddNewPermission = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, permissions, role, config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //  debugger\n              url = BASE_URL + 'user/roles/permissions/';\n              permissions = new Array();\n              role = document.getElementById('role').value;\n              PermissionsList.map(function (perms) {\n                if ($(\"#\" + perms.id).is(\":checked\")) {\n                  permissions.push(perms.title);\n                }\n              });\n              config = {\n                url: url,\n                method: \"post\",\n                data: {\n                  \"permissions_list\": permissions,\n                  \"for_role\": role,\n                  'gym': cookies.get('gym_uuid')\n                }\n              };\n              axios(config).then(function (re) {\n                alert(re.data);\n                window.location.reload();\n              }).catch(function (err) {// alert(\"Error Please Try Again\");;\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _AddNewPermission.apply(this, arguments);\n  }\n\n  function UpdateUser(_x) {\n    return _UpdateUser.apply(this, arguments);\n  }\n\n  function _UpdateUser() {\n    _UpdateUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(uuid) {\n      var url, permissions, role, config;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // setSuccess(false);\n              //  debugger\n              url = BASE_URL + 'user/roles/permissions/' + uuid + '/';\n              permissions = new Array();\n              role = document.getElementById('update_role').value;\n              PermissionsList.map(function (perms) {\n                if ($(\"#update_\" + perms.id).is(\":checked\")) {\n                  permissions.push(perms.title);\n                }\n              });\n              config = {\n                url: url,\n                method: \"put\",\n                data: {\n                  \"permissions_list\": permissions,\n                  \"for_role\": role\n                }\n              };\n              axios(config).then(function (re) {\n                alert(re.data);\n                window.location.reload();\n              }).catch(function (err) {// alert(\"Error Please Try Again\");;\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _UpdateUser.apply(this, arguments);\n  }\n\n  function DeletePermission(_x2) {\n    return _DeletePermission.apply(this, arguments);\n  }\n\n  function _DeletePermission() {\n    _DeletePermission = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uuid) {\n      var url, x;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              url = BASE_URL + 'user/roles/permissions/' + uuid;\n              _context3.next = 3;\n              return axios.delete(url);\n\n            case 3:\n              x = _context3.sent;\n\n              if (x.status === 204) {\n                window.location.reload();\n              } else {// alert(\"Error\");\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _DeletePermission.apply(this, arguments);\n  }\n\n  var perm = cookies.get('perms');\n\n  if (perm.includes('Role and Permissions')) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"manage_top_btn\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"manage-btn-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mn_btn_1 mr-1\",\n                onClick: function onClick() {\n                  return setPrimary(!primary);\n                },\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-plus-circle\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 91\n                }, _this), \" Add Permission \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mn_btn_1 mr-1\",\n                onClick: function onClick() {\n                  return window.location.href = '#/base/roles';\n                },\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-plus-circle\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 106\n                }, _this), \" Manage Roles \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n          xs: \"12\",\n          lg: \"12\",\n          children: /*#__PURE__*/_jsxDEV(CCard, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"manage-table-main\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  class: \"table\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Role\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 17\n                      }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Permissions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 17\n                      }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 17\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 13\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: getroles.map(function (store) {\n                      return /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: store.for_role\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 207,\n                          columnNumber: 17\n                        }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: store.permissions_list\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 208,\n                          columnNumber: 17\n                        }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: store.for_role !== 'Admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-danger\",\n                            onClick: function onClick() {\n                              return DeletePermission(store.uuid);\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              class: \"fa fa-trash-o\",\n                              \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 212,\n                              columnNumber: 135\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 212,\n                            columnNumber: 45\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 210,\n                          columnNumber: 17\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 205,\n                        columnNumber: 13\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 13\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 17\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 11\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CModal, {\n        show: primary,\n        onClose: setPrimary,\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(CModalHeader, {\n          closeButton: true,\n          className: \"add-user-modal\",\n          children: /*#__PURE__*/_jsxDEV(CModalTitle, {\n            children: \"Add Permission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(CModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-sm-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    class: \"form-label\",\n                    for: \"expense_name\",\n                    children: \"Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 19\n                  }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"role\",\n                    class: \"form-control\",\n                    children: getpermission.map(function (store) {\n                      return store.user_roles !== 'Admin' && /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: store.uuid,\n                        children: [\" \", store.user_roles, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 78\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 19\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 15\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(CLabel, {\n                  className: \"mr-0\",\n                  children: \"Permissions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 15\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: PermissionsList.map(function (perm) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-xs-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"container_signup\",\n                        children: [perm.title, /*#__PURE__*/_jsxDEV(\"input\", {\n                          id: perm.id,\n                          value: perm.title,\n                          type: \"checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 260,\n                          columnNumber: 20\n                        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"checkmark\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 19\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 17\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 24\n                    }, _this); // return <CFormGroup variant=\"custom-checkbox\" inline>\n                    //       <CInputCheckbox custom id={perm.id} name={perm.title} value={perm.id} />\n                    //       <CLabel variant=\"custom-checkbox\" htmlFor=\"inline-checkbox2\">{perm.title}</CLabel>\n                    //       </CFormGroup>\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 13\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(CButton, {\n              color: \"primary\",\n              onClick: function onClick() {\n                return AddNewPermission();\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 13\n            }, _this), ' ', /*#__PURE__*/_jsxDEV(CButton, {\n              color: \"secondary\",\n              onClick: function onClick() {\n                return setPrimary(false);\n              },\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(CModal, {\n        show: success,\n        onClose: setSuccess,\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(CModalHeader, {\n          closeButton: true,\n          className: \"add-user-modal\",\n          children: /*#__PURE__*/_jsxDEV(CModalTitle, {\n            children: \"Update Permission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(CModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-sm-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    class: \"form-label\",\n                    for: \"expense_name\",\n                    children: \"Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    defaultValue: userdetail.for_role,\n                    id: \"update_role\",\n                    name: \"first_name\",\n                    class: \"form-control\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n                md: \"12\",\n                children: /*#__PURE__*/_jsxDEV(CLabel, {\n                  className: \"mr-0\",\n                  children: \"Permissions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n                md: \"12\",\n                children: PermissionsList.map(function (perm) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xs-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"container_signup\",\n                      children: [perm.title, permisions.includes(perm.title) ? /*#__PURE__*/_jsxDEV(\"input\", {\n                        id: 'update_' + perm.title,\n                        value: perm.title,\n                        checked: true,\n                        type: \"checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 54\n                      }, _this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                        id: 'update_' + perm.title,\n                        value: perm.title,\n                        type: \"checkbox\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 133\n                      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"checkmark\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 21\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 19\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 26\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(CButton, {\n            color: \"primary\",\n            onClick: function onClick() {\n              return UpdateUser(userdetail.uuid);\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, _this), ' ', /*#__PURE__*/_jsxDEV(CButton, {\n            color: \"secondary\",\n            onClick: function onClick() {\n              return setSuccess(false);\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true);\n  } else {\n    return window.location.href = '#/dashboard';\n  }\n};\n\n_s(Expenses, \"Wn6XU2qBmvp9MyIYvzsRvkuy1h0=\");\n\n_c = Expenses;\nexport default Expenses;\n\nvar _c;\n\n$RefreshReg$(_c, \"Expenses\");","map":{"version":3,"sources":["/home/development/Downloads/Floey_Frontend-master/src/views/base/Permissions/Permissions.js"],"names":["React","useState","useEffect","CButton","CCard","CCardBody","CCardHeader","CCol","CContainer","CJumbotron","CRow","CEmbed","CDropdown","CDropdownToggle","CDropdownDivider","CDropdownHeader","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","CDropdownItem","CDropdownMenu","CEmbedItem","CFormGroup","CFormText","CInputCheckbox","CLabel","DocsLink","BASE_URL","Cookies","PermissionsList","$","cookies","console","log","Expenses","modal","setModal","large","setLarge","small","setSmall","primary","setPrimary","success","setSuccess","warning","setWarning","danger","setDanger","info","setInfo","getpermission","setpermissions","getuser","setuser","getroles","setroles","axios","require","get","then","res","data","catch","err","userdetail","setuserdetail","permisions","setupdatepermissions","Clicker","uuid","getuuid","permissions_list","AddNewPermission","url","permissions","Array","role","document","getElementById","value","map","perms","id","is","push","title","config","method","re","alert","window","location","reload","UpdateUser","DeletePermission","delete","x","status","perm","includes","href","store","for_role","user_roles"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CContainer,\n  CJumbotron,\n  CRow,\n  CEmbed,\n  CDropdown,\n  CDropdownToggle,\n  CDropdownDivider,\n  CDropdownHeader,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CDropdownItem,\n  CDropdownMenu,\n  CEmbedItem,\n  CFormGroup,\n  CFormText,\n  CInputCheckbox,\n  CLabel,\n} from '@coreui/react'\nimport { DocsLink } from 'src/reusable'\nimport BASE_URL from 'src/views/base'\nimport Cookies from 'universal-cookie';\nimport PermissionsList from \"./PermissionsList\";\nimport $ from \"jquery\";\n\n\nconst cookies = new Cookies();\n//  debugger\nconsole.log(PermissionsList)\n\n\nconst Expenses = () => {\n\n        \nconst [modal, setModal] = useState(false)\nconst [large, setLarge] = useState(false)\nconst [small, setSmall] = useState(false)\nconst [primary, setPrimary] = useState(false)\nconst [success, setSuccess] = useState(false)\nconst [warning, setWarning] = useState(false)\nconst [danger, setDanger] = useState(false)\nconst [info, setInfo] = useState(false)\n\n\nconst [getpermission, setpermissions] = useState([])\nconst [getuser, setuser] = useState([])\nconst [getroles,setroles] = useState([])\n\nconst axios = require('axios');\n\nuseEffect(() => {\n    axios\n    .get(BASE_URL + 'user/roles/permissions/?gym='+cookies.get('gym_uuid'))\n    .then(res => {\n        console.log(res.data)\n        setroles(res.data)\n    })\n    .catch(err => {\n        console.log(err)\n    })\n}, [])\n\nuseEffect(() => {\n  axios\n  .get(BASE_URL + 'gymprofile/gymroles/?gym='+cookies.get('gym_uuid'))\n  .then(res => {\n      console.log(res.data)\n      setpermissions(res.data)\n  })\n  .catch(err => {\n      console.log(err)\n  })\n}, [])\n\n\n  const [userdetail, setuserdetail] = useState([])\n  const [permisions,setupdatepermissions] = useState([])\n  function Clicker(uuid) {\n      // alert(uuid);\n      setSuccess(!success);\n      //  debugger\n      axios\n        .get(BASE_URL + 'user/roles/permissions/' + uuid)\n        .then(getuuid => {\n          console.log(getuuid.data.permissions_list);\n          setuserdetail(getuuid.data);\n          setupdatepermissions(getuuid.data.permissions_list)\n        })\n  \n    }\n\n    async function AddNewPermission(){\n      //  debugger\n      var url = BASE_URL+'user/roles/permissions/';      \n      var permissions = new Array();\n      var role = document.getElementById('role').value;\n  \n      PermissionsList.map(perms=>{\n          if ($(\"#\"+perms.id).is(\":checked\")){\n              permissions.push(perms.title);\n          }\n      })\n      \n    \n      var config={\n        url:url,\n        method:\"post\",\n        data:{\"permissions_list\":permissions,\"for_role\":role,'gym':cookies.get('gym_uuid')}\n      };\n      axios(config)\n      .then(re=>{\n          alert(re.data);\n          window.location.reload();\n      }).catch(err=>{\n          // alert(\"Error Please Try Again\");;\n      })\n    }\n\nasync function UpdateUser(uuid) {\n    // setSuccess(false);\n    //  debugger\n    var url = BASE_URL+'user/roles/permissions/' + uuid + '/';      \n    var permissions = new Array();\n    var role = document.getElementById('update_role').value;\n\n    PermissionsList.map(perms=>{\n        if ($(\"#update_\"+perms.id).is(\":checked\")){\n            permissions.push(perms.title);\n        }\n    })\n    \n  \n    var config={\n      url:url,\n      method:\"put\",\n      data:{\"permissions_list\":permissions,\"for_role\":role,}\n    };\n    axios(config)\n    .then(re=>{\n        alert(re.data);\n        window.location.reload();\n    }).catch(err=>{\n        // alert(\"Error Please Try Again\");;\n    })\n  }\n\nasync function DeletePermission(uuid) {\n      var url = BASE_URL+'user/roles/permissions/'+uuid;\n      const x = await axios.delete(url);\n  \n        if (x.status === 204) {\n          window.location.reload()\n        } else {\n          // alert(\"Error\");\n        }\n}\n\nvar perm = cookies.get('perms')\n\n  if (perm.includes('Role and Permissions')){\n  return (\n    <>\n   \n        <CRow>\n      <div className=\"col-md-12\">\n              <div className=\"manage_top_btn\">\n              <div className=\"manage-btn-left\">\n                  \n                  <button className=\"mn_btn_1 mr-1\" onClick={() => setPrimary(!primary)}> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add Permission </button>\n                  <button className=\"mn_btn_1 mr-1\" onClick={() => window.location.href='#/base/roles'}> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Manage Roles </button>\n                </div> \n                \n\n              </div>\n              \n          </div>\n        <CCol xs=\"12\" lg=\"12\">\n          <CCard>\n         \n          <div className=\"col-md-12\">\n          <div className=\"manage-table-main\">\n                <table class=\"table\">\n            <thead>\n            <tr>\n                \n                <th>Role</th>\n                <th>Permissions</th>\n                {/* <th  class=\"text-center\">Frequency</th> */}\n                {/* <th  class=\"text-center\">Status</th> */}\n                <th>Action</th>\n            </tr>\n            </thead>\n            <tbody>\n            {getroles.map(store => (\n            \n            <tr>\n\n                <td>{store.for_role}</td>\n                <td>{store.permissions_list}</td>\n                \n                <td>\n                {/* <CButton color=\"primary\" onClick={() => Clicker(store.uuid)}>Manage</CButton>{' '} */}\n                {store.for_role!=='Admin' &&<button type=\"button\" class=\"btn btn-danger\" onClick={() => DeletePermission(store.uuid)}><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i></button> }\n                </td>\n            </tr>\n            ))}\n\n        </tbody>\n        </table>\n\n    </div>\n        </div>\n\n        \n          </CCard>\n        </CCol>\n      </CRow>\n\n    <CModal \n        show={primary} \n        onClose={setPrimary}\n        size=\"lg\"\n        >\n        <CModalHeader closeButton className=\"add-user-modal\">\n        <CModalTitle>Add Permission</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n        <div class=\"col-md-12\">\n        <div class=\"row\">\n\n          <div class=\"col-sm-6\" >\n              <div class=\"form-group\">\n                  <label class=\"form-label\" for=\"expense_name\">Role</label>\n                  <select  id='role' class=\"form-control\"> \n                  {getpermission.map(store => (store.user_roles!=='Admin' && <option value={store.uuid}> {store.user_roles} </option>))}\n                  </select>\n          </div>\n          </div>\n\n          <CCol md=\"12\">\n              <CLabel className=\"mr-0\">Permissions</CLabel>\n            </CCol>\n            \n            <CCol md=\"12\">\n            <div className=\"row\">\n            {PermissionsList.map((perm) => {\n\n                return <div className=\"col-xs-4\">\n                <label className=\"container_signup\">\n                  {perm.title}\n                   <input id={perm.id} value={perm.title} type=\"checkbox\" />\n                  <span className=\"checkmark\"></span>\n                </label>\n                </div>\n\n                // return <CFormGroup variant=\"custom-checkbox\" inline>\n                //       <CInputCheckbox custom id={perm.id} name={perm.title} value={perm.id} />\n                //       <CLabel variant=\"custom-checkbox\" htmlFor=\"inline-checkbox2\">{perm.title}</CLabel>\n                //       </CFormGroup>\n\n                })} \n            </div>\n            \n            </CCol>\n\n        </div>\n \n</div>\n        \n        </CModalBody>\n        <CModalFooter>\n            <div className=\"col-md-12 text-center\">\n            <CButton color=\"primary\" onClick={()=> AddNewPermission()} >Save</CButton>{' '}\n            <CButton \n            color=\"secondary\" \n            onClick={() => setPrimary(false)}\n            >Close</CButton>\n            </div>\n           \n        </CModalFooter>\n    </CModal>\n\n    <CModal \n        show={success} \n        onClose={setSuccess}\n        size=\"lg\"\n        >\n        <CModalHeader closeButton className=\"add-user-modal\">\n        <CModalTitle>Update Permission</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n        <div class=\"card-body\">\n    \n        <div class=\"row\">\n\n                <div class=\"col-sm-6\" >\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"expense_name\">Role</label>\n                        <input type=\"text\" defaultValue={userdetail.for_role} id=\"update_role\"  name=\"first_name\" class=\"form-control\"  />\n\n                </div>\n                </div>\n\n                  <CCol md=\"12\">\n                    <CLabel className=\"mr-0\">Permissions</CLabel>\n                  </CCol>\n                  <CCol md=\"12\">\n                  \n                  {PermissionsList.map((perm) => {\n            \n                  return <div className=\"col-xs-4\">\n                  <label className=\"container_signup\">\n                    {perm.title}\n                    {permisions.includes(perm.title)?<input id={'update_'+perm.title} value={perm.title} checked type=\"checkbox\" />:<input id={'update_'+perm.title} value={perm.title} type=\"checkbox\" />}\n                    <span className=\"checkmark\"></span>\n                  </label>\n                </div>\n              \n             })} \n                  </CCol>\n              \n\n                 \n        </div>\n        </div>\n        \n        </CModalBody>\n        <CModalFooter>\n            <CButton color=\"primary\" onClick = {()=>UpdateUser(userdetail.uuid)}>Save</CButton>{' '}\n            <CButton \n            color=\"secondary\" \n            onClick={() => setSuccess(false)}\n            >Close</CButton>\n        </CModalFooter>\n        </CModal>\n\n    </>\n  )}\n  else{\n    return window.location.href='#/dashboard'\n  }\n}\n\nexport default Expenses\n"]},"metadata":{},"sourceType":"module"}