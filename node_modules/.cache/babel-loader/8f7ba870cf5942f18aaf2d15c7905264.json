{"ast":null,"code":"import _regeneratorRuntime from \"/home/development/Downloads/Floey_Frontend-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/development/Downloads/Floey_Frontend-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/development/Downloads/Floey_Frontend-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/development/Downloads/Floey_Frontend-master/src/views/base/Promocodes/Ruleset.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport $ from 'jquery';\nimport { CButton, CCard, CCardBody, CCardHeader, CCol, CContainer, CJumbotron, CRow, CEmbed, CDropdown, CDropdownToggle, CDropdownDivider, CDropdownHeader, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle, CDropdownItem, CDropdownMenu, CEmbedItem } from '@coreui/react';\nimport { DocsLink } from 'src/reusable';\nimport BASE_URL from 'src/views/base';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar cookies = new Cookies();\nconsole.log(cookies.get('gym_uuid'));\n\nvar Expenses = function Expenses() {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modal = _useState2[0],\n      setModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      large = _useState4[0],\n      setLarge = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      small = _useState6[0],\n      setSmall = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      primary = _useState8[0],\n      setPrimary = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      success = _useState10[0],\n      setSuccess = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      warning = _useState12[0],\n      setWarning = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      danger = _useState14[0],\n      setDanger = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      info = _useState16[0],\n      setInfo = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      getinstructor = _useState18[0],\n      setgetinstructor = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      maxusage = _useState20[0],\n      setmaxusage = _useState20[1];\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      getuser = _useState22[0],\n      setuser = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      getgym = _useState24[0],\n      setgym = _useState24[1];\n\n  var axios = require('axios');\n\n  useEffect(function () {\n    axios.get(BASE_URL + 'payments/gymrule/').then(function (res) {\n      console.log(res);\n      setgetinstructor(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  useEffect(function () {\n    axios.get(BASE_URL + 'payments/maxusage/').then(function (res) {\n      console.log(res);\n      setmaxusage(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  useEffect(function () {\n    axios.get(BASE_URL + 'user/subscribed/userslist/?gym_id=' + cookies.get('gym_uuid')).then(function (res) {\n      console.log(res);\n      setuser(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  useEffect(function () {\n    axios.get(BASE_URL + 'gymprofile/').then(function (res) {\n      console.log(res);\n      setgym(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  var _useState25 = useState([]),\n      _useState26 = _slicedToArray(_useState25, 2),\n      getinstructordetail = _useState26[0],\n      setinstructordetail = _useState26[1];\n\n  function Clicker(uuid) {\n    // alert(uuid);\n    setSuccess(!success); //  debugger\n  }\n\n  function NewGymRuleset() {\n    return _NewGymRuleset.apply(this, arguments);\n  }\n\n  function _NewGymRuleset() {\n    _NewGymRuleset = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var all_gyms, gyms, data, i, config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // setSuccess(false);\n              debugger;\n              all_gyms = document.getElementById('all_gyms').value;\n              gyms = $('#gyms').val();\n              data = new FormData();\n\n              for (i = 0; i < gyms.length; i++) {\n                data.append('gyms', gyms[i]);\n              }\n\n              data.append(\"all_gyms\", all_gyms);\n              console.log('Trying to send request');\n              _context.prev = 7;\n              console.log('Trying');\n              config = {\n                method: \"post\",\n                url: BASE_URL + \"payments/gymrule/\",\n                headers: {\n                  \"content-type\": \"multipart/form-data; boundary=\".concat(data._boundary)\n                },\n                data: data\n              };\n              _context.next = 12;\n              return axios(config).then(function (res) {\n                //  debugger\n                console.log(JSON.stringify(res.data));\n\n                if (res.status === 200) {\n                  window.location.reload();\n                } else {\n                  //  debugger\n                  alert(\"BAD REQUEST\");\n                } //  debugger\n\n\n                //  debugger\n                return res.data;\n              });\n\n            case 12:\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](7);\n              //  debugger\n              console.error(_context.t0);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 14]]);\n    }));\n    return _NewGymRuleset.apply(this, arguments);\n  }\n\n  function Ruleset() {\n    return _Ruleset.apply(this, arguments);\n  }\n\n  function _Ruleset() {\n    _Ruleset = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var gym_ruleset, max_usage, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // setSuccess(false);\n              gym_ruleset = document.getElementById(\"gym_ruleset\").value;\n              max_usage = document.getElementById(\"max_usage\").value;\n              console.log('Trying to send request');\n              _context2.prev = 3;\n              console.log('Trying');\n              _context2.next = 7;\n              return axios.post(BASE_URL + 'payments/rulesets/', {\n                gyms_ruleset: gym_ruleset,\n                max_uses_rule: max_usage\n              });\n\n            case 7:\n              res = _context2.sent;\n\n              if (res.status === 201) {\n                //  debugger\n                // test for status you want, etc\n                alert('success');\n                console.log(res.status);\n                console.log(res.data); // alert(res.data.message);\n\n                window.location.reload();\n              } //  debugger\n              // Don't forget to return something\n\n\n              return _context2.abrupt(\"return\", res.data);\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](3);\n              console.error('Signup Failed , Please try again.');\n              window.location.reload();\n              alert(_context2.t0);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[3, 12]]);\n    }));\n    return _Ruleset.apply(this, arguments);\n  }\n\n  function deleteInstructor(_x) {\n    return _deleteInstructor.apply(this, arguments);\n  }\n\n  function _deleteInstructor() {\n    _deleteInstructor = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uuid) {\n      var loader, res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              // setSuccess(false);\n              console.log(uuid);\n              console.log('Trying to send request');\n              _context3.prev = 2;\n              loader = \"<div><div class=\\\"loader centered\\\"/></div>\"; // document.getElementById('reg').innerHTML = loader;\n\n              console.log('Trying');\n              _context3.next = 7;\n              return axios.delete(BASE_URL + 'gymprofile/instructor/' + uuid + '/', {\n                uuid: uuid\n              });\n\n            case 7:\n              res = _context3.sent;\n\n              if (res.status === 200) {\n                //  debugger\n                // test for status you want, etc\n                console.log(res.status);\n                console.log(res.data); // alert(res.data.message);\n\n                window.location.reload();\n              } //  debugger\n              // Don't forget to return something\n\n\n              return _context3.abrupt(\"return\", res.data);\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.error('Signup Failed , Please try again.');\n              window.location.reload();\n              alert(_context3.t0);\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 12]]);\n    }));\n    return _deleteInstructor.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CRow, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Ruleset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"expense_name\",\n                children: \"Gym Ruleset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 29\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add\",\n                onClick: function onClick() {\n                  return setPrimary(!primary);\n                },\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 29\n              }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"gym_ruleset\",\n                class: \"form-control\",\n                children: getinstructor.map(function (store) {\n                  return store.gyms == '' ? /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: store.uuid,\n                    children: \" All gyms \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 73\n                  }, _this) : /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: store.uuid,\n                    children: [\" \", store.gyms, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 120\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 29\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 25\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"expense_name\",\n                children: \"Max Usage / User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 29\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add\",\n                onClick: function onClick() {\n                  return Clicker();\n                },\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 29\n              }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"max_usage\",\n                class: \"form-control\",\n                children: maxusage.map(function (store) {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: store.uuid,\n                    children: [\" \", store.max_usage_per_user, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 53\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 29\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 25\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 21\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(CButton, {\n              color: \"primary\",\n              onClick: function onClick() {\n                return Ruleset();\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 25\n            }, _this), ' ']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 21\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(CModal, {\n      show: primary,\n      onClose: setPrimary,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(CModalHeader, {\n        closeButton: true,\n        className: \"add-user-modal\",\n        children: /*#__PURE__*/_jsxDEV(CModalTitle, {\n          children: \"Add Instructor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-sm-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-label\",\n                  for: \"expense_name\",\n                  children: \"Include All Gyms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"all_gyms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 25\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-sm-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-label\",\n                  for: \"expense_name\",\n                  children: \"Gyms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"gyms\",\n                  class: \"form-control\",\n                  multiple: true,\n                  children: getgym.map(function (store) {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: store.uuid,\n                      children: [\" \", store.gym_name, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 25\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"hidden\",\n                  value: getinstructordetail.uuid,\n                  id: \"update_uuid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(CButton, {\n            color: \"primary\",\n            onClick: function onClick() {\n              return NewGymRuleset();\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, _this), ' ', /*#__PURE__*/_jsxDEV(CButton, {\n            color: \"secondary\",\n            onClick: function onClick() {\n              return setPrimary(false);\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(CModal, {\n      show: success,\n      onClose: setSuccess,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(CModalHeader, {\n        closeButton: true,\n        className: \"add-user-modal\",\n        children: /*#__PURE__*/_jsxDEV(CModalTitle, {\n          children: \"Add Max Use\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-sm-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-label\",\n                  for: \"expense_name\",\n                  children: \"Include All Users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"all_users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 25\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-sm-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-label\",\n                  for: \"expense_name\",\n                  children: \"Allowed Users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"allowed_user\",\n                  class: \"form-control\",\n                  children: getuser.map(function (store) {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: store.uuid,\n                      children: [\" \", store.first_name, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 48\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-sm-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-label\",\n                  for: \"date_paid\",\n                  children: \"max_usage_per_user \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"max_usage_per_user\",\n                  name: \"max_usage_per_user\",\n                  class: \"form-control\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n        children: [/*#__PURE__*/_jsxDEV(CButton, {\n          color: \"primary\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, _this), ' ', /*#__PURE__*/_jsxDEV(CButton, {\n          color: \"secondary\",\n          onClick: function onClick() {\n            return setSuccess(false);\n          },\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Expenses, \"HqDIxCWf90QRCqIFvspwdnFED9o=\");\n\n_c = Expenses;\nexport default Expenses;\n\nvar _c;\n\n$RefreshReg$(_c, \"Expenses\");","map":{"version":3,"sources":["/home/development/Downloads/Floey_Frontend-master/src/views/base/Promocodes/Ruleset.js"],"names":["React","useState","useEffect","$","CButton","CCard","CCardBody","CCardHeader","CCol","CContainer","CJumbotron","CRow","CEmbed","CDropdown","CDropdownToggle","CDropdownDivider","CDropdownHeader","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","CDropdownItem","CDropdownMenu","CEmbedItem","DocsLink","BASE_URL","Cookies","cookies","console","log","get","Expenses","modal","setModal","large","setLarge","small","setSmall","primary","setPrimary","success","setSuccess","warning","setWarning","danger","setDanger","info","setInfo","getinstructor","setgetinstructor","maxusage","setmaxusage","getuser","setuser","getgym","setgym","axios","require","then","res","data","catch","err","getinstructordetail","setinstructordetail","Clicker","uuid","NewGymRuleset","all_gyms","document","getElementById","value","gyms","val","FormData","i","length","append","config","method","url","headers","_boundary","JSON","stringify","status","window","location","reload","alert","error","Ruleset","gym_ruleset","max_usage","post","gyms_ruleset","max_uses_rule","deleteInstructor","loader","delete","map","store","max_usage_per_user","gym_name","first_name"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SACEC,OADF,EAEEC,KAFF,EAGEC,SAHF,EAIEC,WAJF,EAKEC,IALF,EAMEC,UANF,EAOEC,UAPF,EAQEC,IARF,EASEC,MATF,EAUEC,SAVF,EAWEC,eAXF,EAYEC,gBAZF,EAaEC,eAbF,EAcEC,MAdF,EAeEC,UAfF,EAgBEC,YAhBF,EAiBEC,YAjBF,EAkBEC,WAlBF,EAmBEC,aAnBF,EAoBEC,aApBF,EAqBEC,UArBF,QAsBO,eAtBP;AAuBA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,OAAP,MAAoB,kBAApB;;;AAEA,IAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;AACAE,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,GAAR,CAAY,UAAZ,CAAZ;;AAGA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AAGvB,kBAA0B/B,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAOgC,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA0BjC,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAOkC,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA0BnC,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAOoC,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA8BrC,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOsC,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAA8BvC,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOwC,OAAP;AAAA,MAAgBC,UAAhB;;AACA,oBAA8BzC,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAO0C,OAAP;AAAA,MAAgBC,UAAhB;;AACA,oBAA4B3C,QAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAO4C,MAAP;AAAA,MAAeC,SAAf;;AACA,oBAAwB7C,QAAQ,CAAC,KAAD,CAAhC;AAAA;AAAA,MAAO8C,IAAP;AAAA,MAAaC,OAAb;;AAGA,oBAA0C/C,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOgD,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAA+BjD,QAAQ,CAAC,EAAD,CAAvC;AAAA;AAAA,MAAOkD,QAAP;AAAA,MAAgBC,WAAhB;;AACA,oBAA2BnD,QAAQ,CAAC,EAAD,CAAnC;AAAA;AAAA,MAAOoD,OAAP;AAAA,MAAgBC,OAAhB;;AACA,oBAAyBrD,QAAQ,CAAC,EAAD,CAAjC;AAAA;AAAA,MAAOsD,MAAP;AAAA,MAAeC,MAAf;;AAGA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEAxD,EAAAA,SAAS,CAAC,YAAM;AACZuD,IAAAA,KAAK,CACJ1B,GADD,CACKL,QAAQ,GAAG,mBADhB,EAECiC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACT/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAZ;AACAV,MAAAA,gBAAgB,CAACU,GAAG,CAACC,IAAL,CAAhB;AACH,KALD,EAMCC,KAND,CAMO,UAAAC,GAAG,EAAI;AACVlC,MAAAA,OAAO,CAACC,GAAR,CAAYiC,GAAZ;AACH,KARD;AASH,GAVQ,EAUN,EAVM,CAAT;AAYA7D,EAAAA,SAAS,CAAC,YAAM;AACZuD,IAAAA,KAAK,CACJ1B,GADD,CACKL,QAAQ,GAAG,oBADhB,EAECiC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACT/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAZ;AACAR,MAAAA,WAAW,CAACQ,GAAG,CAACC,IAAL,CAAX;AACH,KALD,EAMCC,KAND,CAMO,UAAAC,GAAG,EAAI;AACVlC,MAAAA,OAAO,CAACC,GAAR,CAAYiC,GAAZ;AACH,KARD;AASH,GAVQ,EAUN,EAVM,CAAT;AAYA7D,EAAAA,SAAS,CAAC,YAAM;AACZuD,IAAAA,KAAK,CACF1B,GADH,CACOL,QAAQ,GAAG,oCAAX,GAAkDE,OAAO,CAACG,GAAR,CAAY,UAAZ,CADzD,EAEG4B,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACX/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAZ;AACAN,MAAAA,OAAO,CAACM,GAAG,CAACC,IAAL,CAAP;AACD,KALH,EAMGC,KANH,CAMS,UAAAC,GAAG,EAAI;AACZlC,MAAAA,OAAO,CAACC,GAAR,CAAYiC,GAAZ;AACD,KARH;AASD,GAVM,EAUJ,EAVI,CAAT;AAYA7D,EAAAA,SAAS,CAAC,YAAM;AACZuD,IAAAA,KAAK,CACJ1B,GADD,CACKL,QAAQ,GAAG,aADhB,EAECiC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACT/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAZ;AACAJ,MAAAA,MAAM,CAACI,GAAG,CAACC,IAAL,CAAN;AACH,KALD,EAMCC,KAND,CAMO,UAAAC,GAAG,EAAI;AACVlC,MAAAA,OAAO,CAACC,GAAR,CAAYiC,GAAZ;AACH,KARD;AASH,GAVQ,EAUN,EAVM,CAAT;;AAcE,oBAAmD9D,QAAQ,CAAC,EAAD,CAA3D;AAAA;AAAA,MAAO+D,mBAAP;AAAA,MAA4BC,mBAA5B;;AAEA,WAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACnB;AACAzB,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV,CAFmB,CAGnB;AAGD;;AA/EkB,WAkFR2B,aAlFQ;AAAA;AAAA;;AAAA;AAAA,8EAkFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAEC;AACGC,cAAAA,QAJR,GAImBC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAJvD;AAKQC,cAAAA,IALR,GAKetE,CAAC,CAAC,OAAD,CAAD,CAAWuE,GAAX,EALf;AAQQb,cAAAA,IARR,GAQe,IAAIc,QAAJ,EARf;;AASI,mBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClCf,gBAAAA,IAAI,CAACiB,MAAL,CAAY,MAAZ,EAAoBL,IAAI,CAACG,CAAD,CAAxB;AACH;;AACDf,cAAAA,IAAI,CAACiB,MAAL,CAAY,UAAZ,EAAuBT,QAAvB;AAGIxC,cAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAfR;AAiBYD,cAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAEIiD,cAAAA,MAnBhB,GAmByB;AACXC,gBAAAA,MAAM,EAAE,MADG;AAEXC,gBAAAA,GAAG,EAAEvD,QAAQ,GAAG,mBAFL;AAGXwD,gBAAAA,OAAO,EAAE;AACP,0EAAiDrB,IAAI,CAACsB,SAAtD;AADO,iBAHE;AAMXtB,gBAAAA,IAAI,EAAEA;AANK,eAnBzB;AAAA;AAAA,qBA4BkBJ,KAAK,CAACsB,MAAD,CAAL,CACHpB,IADG,CACE,UAAUC,GAAV,EAAe;AACnB;AACA/B,gBAAAA,OAAO,CAACC,GAAR,CAAYsD,IAAI,CAACC,SAAL,CAAezB,GAAG,CAACC,IAAnB,CAAZ;;AAGE,oBAAID,GAAG,CAAC0B,MAAJ,KAAe,GAAnB,EAAwB;AACpBC,kBAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AAEH,iBAHD,MAIK;AACH;AACAC,kBAAAA,KAAK,CAAC,aAAD,CAAL;AACD,iBAZgB,CAcnB;;;AAAA;AACA,uBAAO9B,GAAG,CAACC,IAAX;AACD,eAjBG,CA5BlB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkDY;AACAhC,cAAAA,OAAO,CAAC8D,KAAR;;AAnDZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAlFuB;AAAA;AAAA;;AAAA,WA2IRC,OA3IQ;AAAA;AAAA;;AAAA;AAAA,wEA2IvB;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAEIC,cAAAA,WAHR,GAGsBvB,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAH7D;AAIQsB,cAAAA,SAJR,GAIoBxB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAJzD;AASQ3C,cAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AATR;AAYYD,cAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAZZ;AAAA,qBAa4B2B,KAAK,CAACsC,IAAN,CAAWrE,QAAQ,GAAG,oBAAtB,EAA4C;AACxDsE,gBAAAA,YAAY,EAACH,WAD2C;AAExDI,gBAAAA,aAAa,EAACH;AAF0C,eAA5C,CAb5B;;AAAA;AAagBlC,cAAAA,GAbhB;;AAiBY,kBAAIA,GAAG,CAAC0B,MAAJ,KAAe,GAAnB,EAAwB;AACpB;AACA;AACAI,gBAAAA,KAAK,CAAC,SAAD,CAAL;AACA7D,gBAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAG,CAAC0B,MAAhB;AACAzD,gBAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAG,CAACC,IAAhB,EALoB,CAMpB;;AAEA0B,gBAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,eA1Bb,CA2BY;AACA;;;AA5BZ,gDA6BmB7B,GAAG,CAACC,IA7BvB;;AAAA;AAAA;AAAA;AAgCYhC,cAAAA,OAAO,CAAC8D,KAAR,CAAc,mCAAd;AACAJ,cAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACAC,cAAAA,KAAK,cAAL;;AAlCZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA3IuB;AAAA;AAAA;;AAAA,WAkLRQ,gBAlLQ;AAAA;AAAA;;AAAA;AAAA,iFAkLvB,kBAAgC/B,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AACDtC,cAAAA,OAAO,CAACC,GAAR,CAAYqC,IAAZ;AAIKtC,cAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AANR;AASgBqE,cAAAA,MAThB,kDAUY;;AACAtE,cAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAXZ;AAAA,qBAY4B2B,KAAK,CAAC2C,MAAN,CAAa1E,QAAQ,GAAG,wBAAX,GAAsCyC,IAAtC,GAA4C,GAAzD,EAA8D;AAE1EA,gBAAAA,IAAI,EAACA;AAFqE,eAA9D,CAZ5B;;AAAA;AAYgBP,cAAAA,GAZhB;;AAgBY,kBAAIA,GAAG,CAAC0B,MAAJ,KAAe,GAAnB,EAAwB;AACpB;AACA;AACAzD,gBAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAG,CAAC0B,MAAhB;AACAzD,gBAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAG,CAACC,IAAhB,EAJoB,CAKpB;;AAEA0B,gBAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,eAxBb,CAyBY;AACA;;;AA1BZ,gDA2BmB7B,GAAG,CAACC,IA3BvB;;AAAA;AAAA;AAAA;AA8BYhC,cAAAA,OAAO,CAAC8D,KAAR,CAAc,mCAAd;AACAJ,cAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACAC,cAAAA,KAAK,cAAL;;AAhCZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAlLuB;AAAA;AAAA;;AAwNrB,sBACE;AAAA,4BAEI,QAAC,IAAD;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,eAEI;AAAK,UAAA,KAAK,EAAG,KAAb;AAAA,kCAEA;AAAK,YAAA,KAAK,EAAC,UAAX;AAAA,mCACQ;AAAK,cAAA,KAAK,EAAC,YAAX;AAAA,sCACI;AAAO,gBAAA,KAAK,EAAC,YAAb;AAA0B,gBAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAQ,gBAAA,SAAS,EAAC,KAAlB;AAAyB,gBAAA,OAAO,EAAE;AAAA,yBAAMlD,UAAU,CAAC,CAACD,OAAF,CAAhB;AAAA,iBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFJ,eAGI;AAAQ,gBAAA,EAAE,EAAC,aAAX;AAAyB,gBAAA,KAAK,EAAC,cAA/B;AAAA,0BACCU,aAAa,CAACoD,GAAd,CAAkB,UAAAC,KAAK;AAAA,yBAAKA,KAAK,CAAC7B,IAAN,IAAY,EAAZ,gBAAe;AAAQ,oBAAA,KAAK,EAAE6B,KAAK,CAACnC,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAf,gBAA8D;AAAQ,oBAAA,KAAK,EAAEmC,KAAK,CAACnC,IAArB;AAAA,oCAA6BmC,KAAK,CAAC7B,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAnE;AAAA,iBAAvB;AADD;AAAA;AAAA;AAAA;AAAA,uBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA,mBAFA,eAYI;AAAK,YAAA,KAAK,EAAC,UAAX;AAAA,mCACI;AAAK,cAAA,KAAK,EAAC,YAAX;AAAA,sCACI;AAAO,gBAAA,KAAK,EAAC,YAAb;AAA0B,gBAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAQ,gBAAA,SAAS,EAAC,KAAlB;AAAwB,gBAAA,OAAO,EAAE;AAAA,yBAAMP,OAAO,EAAb;AAAA,iBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFJ,eAGI;AAAQ,gBAAA,EAAE,EAAC,WAAX;AAAuB,gBAAA,KAAK,EAAC,cAA7B;AAAA,0BACCf,QAAQ,CAACkD,GAAT,CAAa,UAAAC,KAAK;AAAA,sCAAK;AAAQ,oBAAA,KAAK,EAAEA,KAAK,CAACnC,IAArB;AAAA,oCAA6BmC,KAAK,CAACC,kBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAL;AAAA,iBAAlB;AADD;AAAA;AAAA;AAAA;AAAA,uBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,mBAZJ,eAsBI;AAAK,YAAA,SAAS,EAAC,uBAAf;AAAA,oCACI,QAAC,OAAD;AAAS,cAAA,KAAK,EAAC,SAAf;AAAyB,cAAA,OAAO,EAAE;AAAA,uBAAIX,OAAO,EAAX;AAAA,eAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EACoE,GADpE;AAAA;AAAA;AAAA;AAAA;AAAA,mBAtBJ;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,aAFJ,eAwCA,QAAC,MAAD;AACI,MAAA,IAAI,EAAErD,OADV;AAEI,MAAA,OAAO,EAAEC,UAFb;AAGI,MAAA,IAAI,EAAC,IAHT;AAAA,8BAKI,QAAC,YAAD;AAAc,QAAA,WAAW,MAAzB;AAA0B,QAAA,SAAS,EAAC,gBAApC;AAAA,+BACA,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,eALJ,eAQI,QAAC,UAAD;AAAA,+BACA;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA,iCACI;AAAK,YAAA,KAAK,EAAC,KAAX;AAAA,oCAEI;AAAK,cAAA,KAAK,EAAC,UAAX;AAAA,qCACI;AAAK,gBAAA,KAAK,EAAC,YAAX;AAAA,wCACI;AAAO,kBAAA,KAAK,EAAC,YAAb;AAA0B,kBAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAO,kBAAA,IAAI,EAAC,UAAZ;AAAsB,kBAAA,EAAE,EAAC;AAAzB;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,qBAFJ,eASI;AAAK,cAAA,KAAK,EAAC,UAAX;AAAA,qCACA;AAAK,gBAAA,KAAK,EAAC,YAAX;AAAA,wCACI;AAAO,kBAAA,KAAK,EAAC,YAAb;AAA0B,kBAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAQ,kBAAA,EAAE,EAAC,MAAX;AAAkB,kBAAA,KAAK,EAAC,cAAxB;AAAuC,kBAAA,QAAQ,MAA/C;AAAA,4BACKe,MAAM,CAAC8C,GAAP,CAAW,UAAAC,KAAK;AAAA,wCACjB;AAAQ,sBAAA,KAAK,EAAEA,KAAK,CAACnC,IAArB;AAAA,sCAA6BmC,KAAK,CAACE,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,6BADiB;AAAA,mBAAhB;AADL;AAAA;AAAA;AAAA;AAAA,yBAFJ,eAOI;AAAO,kBAAA,IAAI,EAAC,QAAZ;AAAqB,kBAAA,KAAK,EAAExC,mBAAmB,CAACG,IAAhD;AAAsD,kBAAA,EAAE,EAAE;AAA1D;AAAA;AAAA;AAAA;AAAA,yBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,qBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,eARJ,eAuCI,QAAC,YAAD;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,kCACA,QAAC,OAAD;AAAS,YAAA,KAAK,EAAC,SAAf;AAAyB,YAAA,OAAO,EAAE;AAAA,qBAAIC,aAAa,EAAjB;AAAA,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,EACsE,GADtE,eAEA,QAAC,OAAD;AACA,YAAA,KAAK,EAAC,WADN;AAEA,YAAA,OAAO,EAAE;AAAA,qBAAM5B,UAAU,CAAC,KAAD,CAAhB;AAAA,aAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,eAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA,aAxCA,eA2FA,QAAC,MAAD;AACI,MAAA,IAAI,EAAEC,OADV;AAEI,MAAA,OAAO,EAAEC,UAFb;AAGI,MAAA,IAAI,EAAC,IAHT;AAAA,8BAKI,QAAC,YAAD;AAAc,QAAA,WAAW,MAAzB;AAA0B,QAAA,SAAS,EAAC,gBAApC;AAAA,+BACA,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,eALJ,eAQI,QAAC,UAAD;AAAA,+BACA;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA,iCAEA;AAAK,YAAA,KAAK,EAAC,KAAX;AAAA,oCAGI;AAAK,cAAA,KAAK,EAAC,UAAX;AAAA,qCACQ;AAAK,gBAAA,KAAK,EAAC,YAAX;AAAA,wCACI;AAAO,kBAAA,KAAK,EAAC,YAAb;AAA0B,kBAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAO,kBAAA,IAAI,EAAC,UAAZ;AAAsB,kBAAA,EAAE,EAAC;AAAzB;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA,qBAHJ,eAWI;AAAK,cAAA,KAAK,EAAC,UAAX;AAAA,qCACI;AAAK,gBAAA,KAAK,EAAC,YAAX;AAAA,wCACI;AAAO,kBAAA,KAAK,EAAC,YAAb;AAA0B,kBAAA,GAAG,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAS,kBAAA,EAAE,EAAC,cAAZ;AAA2B,kBAAA,KAAK,EAAC,cAAjC;AAAA,4BACKW,OAAO,CAACgD,GAAR,CAAY,UAAAC,KAAK;AAAA,wCAAK;AAAS,sBAAA,KAAK,EAAEA,KAAK,CAACnC,IAAtB;AAAA,sCAA8BmC,KAAK,CAACG,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAL;AAAA,mBAAjB;AADL;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,qBAXJ,eAoBI;AAAK,cAAA,KAAK,EAAC,UAAX;AAAA,qCACI;AAAK,gBAAA,KAAK,EAAC,YAAX;AAAA,wCACI;AAAO,kBAAA,KAAK,EAAC,YAAb;AAA0B,kBAAA,GAAG,EAAC,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAO,kBAAA,IAAI,EAAC,QAAZ;AAAqB,kBAAA,EAAE,EAAC,oBAAxB;AAA6C,kBAAA,IAAI,EAAC,oBAAlD;AAAuE,kBAAA,KAAK,EAAC;AAA7E;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,qBApBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,eARJ,eAyCI,QAAC,YAAD;AAAA,gCACI,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAC6C,GAD7C,eAEI,QAAC,OAAD;AACA,UAAA,KAAK,EAAC,WADN;AAEA,UAAA,OAAO,EAAE;AAAA,mBAAM/D,UAAU,CAAC,KAAD,CAAhB;AAAA,WAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,eAzCJ;AAAA;AAAA;AAAA;AAAA;AAAA,aA3FA;AAAA,kBADF;AAgJD,CAxWD;;GAAMV,Q;;KAAAA,Q;AA0WN,eAAeA,QAAf","sourcesContent":["import React, { useState,useEffect } from 'react'\nimport $ from 'jquery';\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CContainer,\n  CJumbotron,\n  CRow,\n  CEmbed,\n  CDropdown,\n  CDropdownToggle,\n  CDropdownDivider,\n  CDropdownHeader,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CDropdownItem,\n  CDropdownMenu,\n  CEmbedItem\n} from '@coreui/react'\nimport { DocsLink } from 'src/reusable'\nimport BASE_URL from 'src/views/base'\nimport Cookies from 'universal-cookie';\n\nconst cookies = new Cookies();\nconsole.log(cookies.get('gym_uuid'))\n\n\nconst Expenses = () => {\n\n        \nconst [modal, setModal] = useState(false)\nconst [large, setLarge] = useState(false)\nconst [small, setSmall] = useState(false)\nconst [primary, setPrimary] = useState(false)\nconst [success, setSuccess] = useState(false)\nconst [warning, setWarning] = useState(false)\nconst [danger, setDanger] = useState(false)\nconst [info, setInfo] = useState(false)\n\n\nconst [getinstructor, setgetinstructor] = useState([])\nconst [maxusage,setmaxusage] = useState([])\nconst [getuser, setuser] = useState([])\nconst [getgym, setgym] = useState([])\n\n\nconst axios = require('axios');\n\nuseEffect(() => {\n    axios\n    .get(BASE_URL + 'payments/gymrule/')\n    .then(res => {\n        console.log(res)\n        setgetinstructor(res.data)\n    })\n    .catch(err => {\n        console.log(err)\n    })\n}, [])\n\nuseEffect(() => {\n    axios\n    .get(BASE_URL + 'payments/maxusage/')\n    .then(res => {\n        console.log(res)\n        setmaxusage(res.data)\n    })\n    .catch(err => {\n        console.log(err)\n    })\n}, [])\n\nuseEffect(() => {\n    axios\n      .get(BASE_URL + 'user/subscribed/userslist/?gym_id=' + cookies.get('gym_uuid'))\n      .then(res => {\n        console.log(res)\n        setuser(res.data)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\nuseEffect(() => {\n    axios\n    .get(BASE_URL + 'gymprofile/')\n    .then(res => {\n        console.log(res)\n        setgym(res.data)\n    })\n    .catch(err => {\n        console.log(err)\n    })\n}, [])\n\n\n\n  const [getinstructordetail, setinstructordetail] = useState([])\n\n  function Clicker(uuid) {\n      // alert(uuid);\n      setSuccess(!success);\n      //  debugger\n    \n  \n    }\n\n\nasync function NewGymRuleset() {\n    // setSuccess(false);\n   \n     debugger\n    var all_gyms = document.getElementById('all_gyms').value;\n    var gyms = $('#gyms').val();\n\n\n    var data = new FormData();\n    for (var i = 0; i < gyms.length; i++) {\n        data.append('gyms', gyms[i]);\n    }\n    data.append(\"all_gyms\",all_gyms );\n   \n    {  \n        console.log('Trying to send request');\n        try {\n            console.log('Trying')\n      \n            var config = {\n              method: \"post\",\n              url: BASE_URL + \"payments/gymrule/\",\n              headers: {\n                \"content-type\": `multipart/form-data; boundary=${data._boundary}`,\n              },\n              data: data,\n            };\n      \n            await axios(config)\n              .then(function (res) {\n                //  debugger\n                console.log(JSON.stringify(res.data));\n      \n                \n                  if (res.status === 200) {\n                      window.location.reload();\n      \n                  }\n                  else {\n                    //  debugger\n                    alert(\"BAD REQUEST\");\n                  }\n                \n                //  debugger\n                return res.data\n              })\n      \n      \n          }\n          catch (err) {\n            //  debugger\n            console.error(err);\n      \n          }\n    }\n}\n\nasync function Ruleset() {\n    // setSuccess(false);\n   \n    var gym_ruleset = document.getElementById(\"gym_ruleset\").value;\n    var max_usage = document.getElementById(\"max_usage\").value;\n    \n    \n    {  \n       \n        console.log('Trying to send request');\n        \n        try {\n            console.log('Trying');\n            let res = await axios.post(BASE_URL + 'payments/rulesets/', {\n                gyms_ruleset:gym_ruleset,\n                max_uses_rule:max_usage,\n            });\n            if (res.status === 201) {\n                //  debugger\n                // test for status you want, etc\n                alert('success')\n                console.log(res.status);\n                console.log(res.data);\n                // alert(res.data.message);\n  \n                window.location.reload();\n            }\n            //  debugger\n            // Don't forget to return something\n            return res.data\n        }\n        catch (err) {\n            console.error('Signup Failed , Please try again.');\n            window.location.reload();\n            alert(err);\n        }\n    }\n}\n\nasync function deleteInstructor(uuid) {\n    // setSuccess(false);\n   console.log(uuid)\n    \n    {  \n       \n        console.log('Trying to send request');\n        \n        try {\n            let loader = `<div><div class=\"loader centered\"/></div>`;\n            // document.getElementById('reg').innerHTML = loader;\n            console.log('Trying');\n            let res = await axios.delete(BASE_URL + 'gymprofile/instructor/' + uuid +'/', {\n            \n                uuid:uuid\n            });\n            if (res.status === 200) {\n                //  debugger\n                // test for status you want, etc\n                console.log(res.status);\n                console.log(res.data);\n                // alert(res.data.message);\n  \n                window.location.reload();\n            }\n            //  debugger\n            // Don't forget to return something\n            return res.data\n        }\n        catch (err) {\n            console.error('Signup Failed , Please try again.');\n            window.location.reload();\n            alert(err);\n        }\n    }\n}\n\n\n  return (\n    <>\n   \n        <CRow>\n            <div className=\"col-md-12\">\n            <h3>Ruleset</h3>\n                <div class = \"row\">\n\n                <div class=\"col-sm-6\" >\n                        <div class=\"form-group\">\n                            <label class=\"form-label\" for=\"expense_name\">Gym Ruleset</label>\n                            <button className=\"add\"  onClick={() => setPrimary(!primary)}>+</button>\n                            <select id='gym_ruleset' class=\"form-control\"> \n                            {getinstructor.map(store => (store.gyms==''?<option value={store.uuid}> All gyms </option>:<option value={store.uuid}> {store.gyms} </option>))}\n                            </select>\n                    </div> \n                    </div>\n                \n                    <div class=\"col-sm-6\" >\n                        <div class=\"form-group\">\n                            <label class=\"form-label\" for=\"expense_name\">Max Usage / User</label>\n                            <button className=\"add\" onClick={() => Clicker()}>+</button>\n                            <select id='max_usage' class=\"form-control\"> \n                            {maxusage.map(store => (<option value={store.uuid}> {store.max_usage_per_user} </option>))}\n                            </select>\n                    </div> \n                    </div>\n\n                    <div className=\"col-md-12 text-center\">\n                        <CButton color=\"primary\" onClick={()=>Ruleset()}>Save</CButton>{' '}\n                      \n                    </div>\n\n                    \n\n\n\n                </div>\n            </div>\n       </CRow>\n\n    <CModal \n        show={primary} \n        onClose={setPrimary}\n        size=\"lg\"\n        >\n        <CModalHeader closeButton className=\"add-user-modal\">\n        <CModalTitle>Add Instructor</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n        <div class=\"col-md-12\">\n            <div class=\"row\">\n\n                <div class=\"col-sm-6\" >\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"expense_name\">Include All Gyms</label>\n                        <input type='checkbox'id='all_gyms'/>\n                </div> \n                </div>\n\n                <div class=\"col-sm-6\" >\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"expense_name\">Gyms</label>\n                    <select id='gyms' class=\"form-control\" multiple> \n                        {getgym.map(store => (\n                        <option value={store.uuid}> {store.gym_name} </option>\n                        ))}\n                        </select>\n                    <input type='hidden' value={getinstructordetail.uuid} id ='update_uuid'/>\n            </div>\n            </div>\n\n\n               \n\n        </div>\n\n        </div>\n        \n        </CModalBody>\n        <CModalFooter>\n            <div className=\"col-md-12 text-center\">\n            <CButton color=\"primary\" onClick={()=>NewGymRuleset()}>Save</CButton>{' '}\n            <CButton \n            color=\"secondary\" \n            onClick={() => setPrimary(false)}\n            >Close</CButton>\n            </div>\n           \n        </CModalFooter>\n    </CModal>\n\n    <CModal \n        show={success} \n        onClose={setSuccess}\n        size=\"lg\"\n        >\n        <CModalHeader closeButton className=\"add-user-modal\">\n        <CModalTitle>Add Max Use</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n        <div class=\"card-body\">\n    \n        <div class=\"row\">\n\n\n            <div class=\"col-sm-6\" >\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"expense_name\">Include All Users</label>\n                        <input type='checkbox'id='all_users'/>\n                </div> \n                </div>\n\n\n            <div class=\"col-sm-6\" >\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"expense_name\">Allowed Users</label>\n                    <select  id='allowed_user' class=\"form-control\"> \n                        {getuser.map(store => (<option  value={store.uuid}> {store.first_name} </option>))}\n                        </select>\n            </div>\n            </div>\n\n            <div class=\"col-sm-6\" >\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"date_paid\">max_usage_per_user </label>\n                    <input type=\"number\" id=\"max_usage_per_user\" name=\"max_usage_per_user\" class=\"form-control\"  />\n            </div>\n            </div>\n        </div>\n        </div>\n        \n        </CModalBody>\n        <CModalFooter>\n            <CButton color=\"primary\" >Save</CButton>{' '}\n            <CButton \n            color=\"secondary\" \n            onClick={() => setSuccess(false)}\n            >Close</CButton>\n        </CModalFooter>\n        </CModal>\n\n    </>\n  )\n}\n\nexport default Expenses\n"]},"metadata":{},"sourceType":"module"}